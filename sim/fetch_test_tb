#! /usr/bin/vvp
:ivl_version "11.0 (stable)";
:ivl_delay_selection "TYPICAL";
:vpi_time_precision - 12;
:vpi_module "/usr/lib/x86_64-linux-gnu/ivl/system.vpi";
:vpi_module "/usr/lib/x86_64-linux-gnu/ivl/vhdl_sys.vpi";
:vpi_module "/usr/lib/x86_64-linux-gnu/ivl/vhdl_textio.vpi";
:vpi_module "/usr/lib/x86_64-linux-gnu/ivl/v2005_math.vpi";
:vpi_module "/usr/lib/x86_64-linux-gnu/ivl/va_math.vpi";
:vpi_module "/usr/lib/x86_64-linux-gnu/ivl/v2009.vpi";
S_0x630dcb60b2a0 .scope package, "$unit" "$unit" 2 1;
 .timescale 0 0;
S_0x630dcb60ae70 .scope module, "fetch_test_tb" "fetch_test_tb" 3 6;
 .timescale -9 -12;
P_0x630dcb5e63a0 .param/l "CLK_PERIOD" 1 3 9, +C4<00000000000000000000000000001010>;
v0x630dcb64f6d0_0 .var "branch_taken", 0 0;
v0x630dcb64f790_0 .var "branch_target", 31 0;
v0x630dcb64f830_0 .var "clk", 0 0;
v0x630dcb64f900_0 .net "fetch_abort", 0 0, L_0x630dcb6618e0;  1 drivers
v0x630dcb64f9d0_0 .net "fetch_abort_addr", 31 0, L_0x630dcb661a20;  1 drivers
v0x630dcb64fac0_0 .var "fetch_en", 0 0;
v0x630dcb64fb90_0 .var "flush", 0 0;
v0x630dcb64fc60_0 .var "high_vectors", 0 0;
v0x630dcb64fd30_0 .var "imem_abort", 0 0;
v0x630dcb64fe00 .array "imem_array", 4095 0, 31 0;
v0x630dcb64fea0_0 .var "imem_rdata", 31 0;
v0x630dcb64ff70_0 .var "imem_ready", 0 0;
v0x630dcb650040_0 .net "imem_req", 0 0, L_0x630dcb650fa0;  1 drivers
L_0x7380759560a8 .functor BUFT 1, C4<10>, C4<0>, C4<0>, C4<0>;
v0x630dcb650110_0 .net "imem_size", 1 0, L_0x7380759560a8;  1 drivers
v0x630dcb6501e0_0 .net "imem_vaddr", 31 0, L_0x630dcb60f360;  1 drivers
L_0x7380759560f0 .functor BUFT 1, C4<00000000000000000000000000000000>, C4<0>, C4<0>, C4<0>;
v0x630dcb6502b0_0 .net "imem_wdata", 31 0, L_0x7380759560f0;  1 drivers
L_0x738075956060 .functor BUFT 1, C4<0>, C4<0>, C4<0>, C4<0>;
v0x630dcb650380_0 .net "imem_write", 0 0, L_0x738075956060;  1 drivers
v0x630dcb650450_0 .net "instr_valid", 0 0, L_0x630dcb6617d0;  1 drivers
v0x630dcb650520_0 .net "instruction", 31 0, L_0x630dcb6221c0;  1 drivers
v0x630dcb6505f0_0 .net "pc_out", 31 0, L_0x630dcb622230;  1 drivers
v0x630dcb6506c0_0 .var "rst_n", 0 0;
v0x630dcb650790_0 .var "stall", 0 0;
v0x630dcb650860_0 .var/2s "test_count", 31 0;
v0x630dcb650900_0 .var/2s "test_passed", 31 0;
v0x630dcb6509a0_0 .var "thumb_mode", 0 0;
S_0x630dcb60cc10 .scope begin, "$ivl_for_loop0" "$ivl_for_loop0" 3 114, 3 114 0, S_0x630dcb60ae70;
 .timescale -9 -12;
v0x630dcb61af10_0 .var/2s "i", 31 0;
S_0x630dcb64c2f0 .scope begin, "$ivl_for_loop1" "$ivl_for_loop1" 3 117, 3 117 0, S_0x630dcb60ae70;
 .timescale -9 -12;
v0x630dcb61afb0_0 .var/2s "i", 31 0;
S_0x630dcb64c530 .scope task, "test_case" "test_case" 3 123, 3 123 0, S_0x630dcb60ae70;
 .timescale -9 -12;
v0x630dcb607510_0 .var "expected_instruction", 31 0;
v0x630dcb60eaf0_0 .var "expected_pc", 31 0;
v0x630dcb60ebf0_0 .var "expected_valid", 0 0;
v0x630dcb60f480_0 .var/str "test_name";
E_0x630dcb5e6230 .event posedge, v0x630dcb64d730_0;
E_0x630dcb5e5a10 .event edge, v0x630dcb64e5b0_0, v0x630dcb60ebf0_0;
TD_fetch_test_tb.test_case ;
    ; show_stmt_assign_vector: Get l-value for compressed += operand
    %load/vec4 v0x630dcb650860_0;
    %pushi/vec4 1, 0, 32;
    %add;
    %cast2;
    %store/vec4 v0x630dcb650860_0, 0, 32;
    %vpi_call/w 3 130 "$display", "Test %d: %s", v0x630dcb650860_0, v0x630dcb60f480_0 {0 0 0};
T_0.0 ;
    %load/vec4 v0x630dcb650450_0;
    %load/vec4 v0x630dcb60ebf0_0;
    %cmp/e;
    %flag_get/vec4 4;
    %cmpi/ne 1, 0, 1;
    %jmp/0xz T_0.1, 6;
    %wait E_0x630dcb5e5a10;
    %jmp T_0.0;
T_0.1 ;
    %wait E_0x630dcb5e6230;
    %vpi_call/w 3 136 "$display", "  PC: 0x%08x (expected: 0x%08x)", v0x630dcb6505f0_0, v0x630dcb60eaf0_0 {0 0 0};
    %vpi_call/w 3 137 "$display", "  Instruction: 0x%08x (expected: 0x%08x)", v0x630dcb650520_0, v0x630dcb607510_0 {0 0 0};
    %vpi_call/w 3 138 "$display", "  Valid: %b (expected: %b)", v0x630dcb650450_0, v0x630dcb60ebf0_0 {0 0 0};
    %load/vec4 v0x630dcb650450_0;
    %load/vec4 v0x630dcb60ebf0_0;
    %cmp/e;
    %flag_get/vec4 4;
    %load/vec4 v0x630dcb650520_0;
    %load/vec4 v0x630dcb607510_0;
    %cmp/e;
    %flag_get/vec4 4;
    %and;
    %load/vec4 v0x630dcb6505f0_0;
    %load/vec4 v0x630dcb60eaf0_0;
    %cmp/e;
    %flag_get/vec4 4;
    %and;
    %flag_set/vec4 8;
    %jmp/0xz  T_0.2, 8;
    ; show_stmt_assign_vector: Get l-value for compressed += operand
    %load/vec4 v0x630dcb650900_0;
    %pushi/vec4 1, 0, 32;
    %add;
    %cast2;
    %store/vec4 v0x630dcb650900_0, 0, 32;
    %vpi_call/w 3 144 "$display", "  \342\234\205 PASS" {0 0 0};
    %jmp T_0.3;
T_0.2 ;
    %vpi_call/w 3 146 "$display", "  \342\235\214 FAIL" {0 0 0};
T_0.3 ;
    %vpi_call/w 3 148 "$display", "\000" {0 0 0};
    %end;
S_0x630dcb64c810 .scope module, "u_fetch" "arm7tdmi_fetch" 3 56, 4 3 0, S_0x630dcb60ae70;
 .timescale -9 -12;
    .port_info 0 /INPUT 1 "clk";
    .port_info 1 /INPUT 1 "rst_n";
    .port_info 2 /INPUT 1 "fetch_en";
    .port_info 3 /INPUT 1 "branch_taken";
    .port_info 4 /INPUT 32 "branch_target";
    .port_info 5 /INPUT 1 "thumb_mode";
    .port_info 6 /INPUT 1 "high_vectors";
    .port_info 7 /OUTPUT 32 "imem_vaddr";
    .port_info 8 /OUTPUT 1 "imem_req";
    .port_info 9 /OUTPUT 1 "imem_write";
    .port_info 10 /OUTPUT 2 "imem_size";
    .port_info 11 /OUTPUT 32 "imem_wdata";
    .port_info 12 /INPUT 32 "imem_rdata";
    .port_info 13 /INPUT 1 "imem_ready";
    .port_info 14 /INPUT 1 "imem_abort";
    .port_info 15 /OUTPUT 32 "instruction";
    .port_info 16 /OUTPUT 32 "pc_out";
    .port_info 17 /OUTPUT 1 "instr_valid";
    .port_info 18 /INPUT 1 "stall";
    .port_info 19 /INPUT 1 "flush";
    .port_info 20 /OUTPUT 1 "fetch_abort";
    .port_info 21 /OUTPUT 32 "fetch_abort_addr";
enum0x630dcb58bb80 .enum4 (3)
   "IDLE" 3'b000,
   "FETCHING" 3'b001,
   "READY" 3'b010,
   "ABORT" 3'b011,
   "FLUSH_WAIT" 3'b100
 ;
L_0x630dcb61adf0 .functor OR 1, L_0x630dcb650a70, L_0x630dcb650b70, C4<0>, C4<0>;
L_0x630dcb6073f0 .functor AND 1, L_0x630dcb61adf0, v0x630dcb64fac0_0, C4<1>, C4<1>;
L_0x630dcb60e950 .functor AND 1, L_0x630dcb6617d0, L_0x630dcb650d90, C4<1>, C4<1>;
L_0x630dcb60f360 .functor BUFZ 32, v0x630dcb64db50_0, C4<00000000000000000000000000000000>, C4<00000000000000000000000000000000>, C4<00000000000000000000000000000000>;
L_0x630dcb6221c0 .functor BUFZ 32, v0x630dcb64d8d0_0, C4<00000000000000000000000000000000>, C4<00000000000000000000000000000000>, C4<00000000000000000000000000000000>;
L_0x630dcb622230 .functor BUFZ 32, v0x630dcb64e830_0, C4<00000000000000000000000000000000>, C4<00000000000000000000000000000000>, C4<00000000000000000000000000000000>;
v0x630dcb64edf0_0 .array/port v0x630dcb64edf0, 0;
L_0x630dcb6612f0 .functor AND 1, v0x630dcb64edf0_0, v0x630dcb64fac0_0, C4<1>, C4<1>;
L_0x630dcb6614a0 .functor AND 1, L_0x630dcb6612f0, L_0x630dcb6613b0, C4<1>, C4<1>;
L_0x630dcb6617d0 .functor AND 1, L_0x630dcb6614a0, L_0x630dcb661650, C4<1>, C4<1>;
L_0x630dcb661a20 .functor BUFZ 32, v0x630dcb64db50_0, C4<00000000000000000000000000000000>, C4<00000000000000000000000000000000>, C4<00000000000000000000000000000000>;
v0x630dcb60f550_0 .net *"_ivl_11", 0 0, L_0x630dcb650d90;  1 drivers
L_0x738075956018 .functor BUFT 1, C4<001>, C4<0>, C4<0>, C4<0>;
v0x630dcb64cd80_0 .net/2u *"_ivl_16", 2 0, L_0x738075956018;  1 drivers
v0x630dcb64ce60_0 .net *"_ivl_2", 0 0, L_0x630dcb650a70;  1 drivers
v0x630dcb64cf00_0 .net *"_ivl_32", 0 0, L_0x630dcb6612f0;  1 drivers
v0x630dcb64cfc0_0 .net *"_ivl_34", 0 0, L_0x630dcb6613b0;  1 drivers
v0x630dcb64d0d0_0 .net *"_ivl_36", 0 0, L_0x630dcb6614a0;  1 drivers
L_0x738075956138 .functor BUFT 1, C4<011>, C4<0>, C4<0>, C4<0>;
v0x630dcb64d190_0 .net/2u *"_ivl_37", 2 0, L_0x738075956138;  1 drivers
v0x630dcb64d270_0 .net *"_ivl_39", 0 0, L_0x630dcb661650;  1 drivers
L_0x738075956180 .functor BUFT 1, C4<011>, C4<0>, C4<0>, C4<0>;
v0x630dcb64d330_0 .net/2u *"_ivl_43", 2 0, L_0x738075956180;  1 drivers
v0x630dcb64d410_0 .net *"_ivl_5", 0 0, L_0x630dcb650b70;  1 drivers
v0x630dcb64d4d0_0 .net *"_ivl_7", 0 0, L_0x630dcb61adf0;  1 drivers
v0x630dcb64d590_0 .net "branch_taken", 0 0, v0x630dcb64f6d0_0;  1 drivers
v0x630dcb64d650_0 .net "branch_target", 31 0, v0x630dcb64f790_0;  1 drivers
v0x630dcb64d730_0 .net "clk", 0 0, v0x630dcb64f830_0;  1 drivers
v0x630dcb64d7f0_0 .var "current_state", 2 0;
v0x630dcb64d8d0_0 .var "extracted_instruction", 31 0;
v0x630dcb64d9b0_0 .net "fetch_abort", 0 0, L_0x630dcb6618e0;  alias, 1 drivers
v0x630dcb64da70_0 .net "fetch_abort_addr", 31 0, L_0x630dcb661a20;  alias, 1 drivers
v0x630dcb64db50_0 .var "fetch_addr", 31 0;
v0x630dcb64dc30_0 .net "fetch_en", 0 0, v0x630dcb64fac0_0;  1 drivers
v0x630dcb64dcf0_0 .net "fetch_needed", 0 0, L_0x630dcb6073f0;  1 drivers
v0x630dcb64ddb0_0 .net "flush", 0 0, v0x630dcb64fb90_0;  1 drivers
v0x630dcb64de70_0 .net "high_vectors", 0 0, v0x630dcb64fc60_0;  1 drivers
v0x630dcb64df30_0 .net "imem_abort", 0 0, v0x630dcb64fd30_0;  1 drivers
v0x630dcb64dff0_0 .net "imem_rdata", 31 0, v0x630dcb64fea0_0;  1 drivers
v0x630dcb64e0d0_0 .net "imem_ready", 0 0, v0x630dcb64ff70_0;  1 drivers
v0x630dcb64e190_0 .net "imem_req", 0 0, L_0x630dcb650fa0;  alias, 1 drivers
v0x630dcb64e250_0 .net "imem_size", 1 0, L_0x7380759560a8;  alias, 1 drivers
v0x630dcb64e330_0 .net "imem_vaddr", 31 0, L_0x630dcb60f360;  alias, 1 drivers
v0x630dcb64e410_0 .net "imem_wdata", 31 0, L_0x7380759560f0;  alias, 1 drivers
v0x630dcb64e4f0_0 .net "imem_write", 0 0, L_0x738075956060;  alias, 1 drivers
v0x630dcb64e5b0_0 .net "instr_valid", 0 0, L_0x630dcb6617d0;  alias, 1 drivers
v0x630dcb64e670_0 .net "instruction", 31 0, L_0x630dcb6221c0;  alias, 1 drivers
v0x630dcb64e750_0 .var "next_state", 2 0;
v0x630dcb64e830_0 .var "pc", 31 0;
v0x630dcb64e910_0 .net "pc_out", 31 0, L_0x630dcb622230;  alias, 1 drivers
v0x630dcb64e9f0 .array "prefetch_buffer", 0 1, 31 0;
v0x630dcb64eb10 .array "prefetch_pc", 0 1, 31 0;
v0x630dcb64ec30_0 .net "prefetch_shift", 0 0, L_0x630dcb60e950;  1 drivers
v0x630dcb64ecf0 .array "prefetch_thumb", 0 1, 0 0;
v0x630dcb64edf0 .array "prefetch_valid", 0 1, 0 0;
v0x630dcb64eef0_0 .net "rst_n", 0 0, v0x630dcb6506c0_0;  1 drivers
v0x630dcb64efb0_0 .net "stall", 0 0, v0x630dcb650790_0;  1 drivers
v0x630dcb64f070_0 .net "thumb_mode", 0 0, v0x630dcb6509a0_0;  1 drivers
v0x630dcb64ecf0_0 .array/port v0x630dcb64ecf0, 0;
v0x630dcb64eb10_0 .array/port v0x630dcb64eb10, 0;
v0x630dcb64e9f0_0 .array/port v0x630dcb64e9f0, 0;
E_0x630dcb5e0880/0 .event edge, v0x630dcb64edf0_0, v0x630dcb64ecf0_0, v0x630dcb64eb10_0, v0x630dcb64e9f0_0;
E_0x630dcb5e0880/1 .event edge, v0x630dcb64e9f0_0, v0x630dcb64e9f0_0;
E_0x630dcb5e0880 .event/or E_0x630dcb5e0880/0, E_0x630dcb5e0880/1;
E_0x630dcb5e4370/0 .event negedge, v0x630dcb64eef0_0;
E_0x630dcb5e4370/1 .event posedge, v0x630dcb64d730_0;
E_0x630dcb5e4370 .event/or E_0x630dcb5e4370/0, E_0x630dcb5e4370/1;
v0x630dcb64edf0_1 .array/port v0x630dcb64edf0, 1;
E_0x630dcb5e1530/0 .event edge, v0x630dcb64edf0_0, v0x630dcb64e830_0, v0x630dcb64edf0_1, v0x630dcb64f070_0;
E_0x630dcb5e1530/1 .event edge, v0x630dcb64eb10_0;
E_0x630dcb5e1530 .event/or E_0x630dcb5e1530/0, E_0x630dcb5e1530/1;
E_0x630dcb5af010/0 .event edge, v0x630dcb64d7f0_0, v0x630dcb64dc30_0, v0x630dcb64dcf0_0, v0x630dcb64efb0_0;
E_0x630dcb5af010/1 .event edge, v0x630dcb64edf0_0, v0x630dcb64e0d0_0, v0x630dcb64df30_0, v0x630dcb64ddb0_0;
E_0x630dcb5af010 .event/or E_0x630dcb5af010/0, E_0x630dcb5af010/1;
L_0x630dcb650a70 .reduce/nor v0x630dcb64edf0_0;
L_0x630dcb650b70 .reduce/nor v0x630dcb64edf0_1;
L_0x630dcb650d90 .reduce/nor v0x630dcb650790_0;
L_0x630dcb650fa0 .cmp/eq 3, v0x630dcb64d7f0_0, L_0x738075956018;
L_0x630dcb6613b0 .reduce/nor v0x630dcb64fb90_0;
L_0x630dcb661650 .cmp/ne 3, v0x630dcb64d7f0_0, L_0x738075956138;
L_0x630dcb6618e0 .cmp/eq 3, v0x630dcb64d7f0_0, L_0x738075956180;
S_0x630dcb64f3f0 .scope task, "wait_cycles" "wait_cycles" 3 151, 3 151 0, S_0x630dcb60ae70;
 .timescale -9 -12;
v0x630dcb64f5d0_0 .var/2s "cycles", 31 0;
TD_fetch_test_tb.wait_cycles ;
    %load/vec4 v0x630dcb64f5d0_0;
T_1.4 %dup/vec4;
    %pushi/vec4 0, 0, 32;
    %cmp/s;
    %jmp/1xz T_1.5, 5;
    %jmp/1 T_1.5, 4;
    %pushi/vec4 1, 0, 32;
    %sub;
    %wait E_0x630dcb5e6230;
    %jmp T_1.4;
T_1.5 ;
    %pop/vec4 1;
    %end;
    .scope S_0x630dcb64c810;
T_2 ;
    %wait E_0x630dcb5e4370;
    %load/vec4 v0x630dcb64eef0_0;
    %nor/r;
    %flag_set/vec4 8;
    %jmp/0xz  T_2.0, 8;
    %load/vec4 v0x630dcb64de70_0;
    %flag_set/vec4 8;
    %jmp/0 T_2.2, 8;
    %pushi/vec4 4294901760, 0, 32;
    %jmp/1 T_2.3, 8;
T_2.2 ; End of true expr.
    %pushi/vec4 0, 0, 32;
    %jmp/0 T_2.3, 8;
 ; End of false expr.
    %blend;
T_2.3;
    %assign/vec4 v0x630dcb64e830_0, 0;
    %jmp T_2.1;
T_2.0 ;
    %load/vec4 v0x630dcb64ddb0_0;
    %flag_set/vec4 8;
    %jmp/0xz  T_2.4, 8;
    %load/vec4 v0x630dcb64e830_0;
    %assign/vec4 v0x630dcb64e830_0, 0;
    %jmp T_2.5;
T_2.4 ;
    %load/vec4 v0x630dcb64d590_0;
    %flag_set/vec4 8;
    %jmp/0xz  T_2.6, 8;
    %load/vec4 v0x630dcb64d650_0;
    %assign/vec4 v0x630dcb64e830_0, 0;
    %jmp T_2.7;
T_2.6 ;
    %load/vec4 v0x630dcb64ec30_0;
    %flag_set/vec4 8;
    %jmp/0xz  T_2.8, 8;
    %load/vec4 v0x630dcb64f070_0;
    %flag_set/vec4 8;
    %jmp/0xz  T_2.10, 8;
    %load/vec4 v0x630dcb64e830_0;
    %addi 2, 0, 32;
    %assign/vec4 v0x630dcb64e830_0, 0;
    %jmp T_2.11;
T_2.10 ;
    %load/vec4 v0x630dcb64e830_0;
    %addi 4, 0, 32;
    %assign/vec4 v0x630dcb64e830_0, 0;
T_2.11 ;
T_2.8 ;
T_2.7 ;
T_2.5 ;
T_2.1 ;
    %jmp T_2;
    .thread T_2;
    .scope S_0x630dcb64c810;
T_3 ;
    %wait E_0x630dcb5e4370;
    %load/vec4 v0x630dcb64eef0_0;
    %nor/r;
    %flag_set/vec4 8;
    %jmp/0xz  T_3.0, 8;
    %pushi/vec4 0, 0, 3;
    %assign/vec4 v0x630dcb64d7f0_0, 0;
    %jmp T_3.1;
T_3.0 ;
    %load/vec4 v0x630dcb64ddb0_0;
    %flag_set/vec4 8;
    %jmp/0xz  T_3.2, 8;
    %pushi/vec4 4, 0, 3;
    %assign/vec4 v0x630dcb64d7f0_0, 0;
    %jmp T_3.3;
T_3.2 ;
    %load/vec4 v0x630dcb64e750_0;
    %assign/vec4 v0x630dcb64d7f0_0, 0;
T_3.3 ;
T_3.1 ;
    %jmp T_3;
    .thread T_3;
    .scope S_0x630dcb64c810;
T_4 ;
Ewait_0 .event/or E_0x630dcb5af010, E_0x0;
    %wait Ewait_0;
    %load/vec4 v0x630dcb64d7f0_0;
    %store/vec4 v0x630dcb64e750_0, 0, 3;
    %load/vec4 v0x630dcb64d7f0_0;
    %dup/vec4;
    %pushi/vec4 0, 0, 3;
    %cmp/u;
    %jmp/1 T_4.0, 6;
    %dup/vec4;
    %pushi/vec4 1, 0, 3;
    %cmp/u;
    %jmp/1 T_4.1, 6;
    %dup/vec4;
    %pushi/vec4 2, 0, 3;
    %cmp/u;
    %jmp/1 T_4.2, 6;
    %dup/vec4;
    %pushi/vec4 3, 0, 3;
    %cmp/u;
    %jmp/1 T_4.3, 6;
    %dup/vec4;
    %pushi/vec4 4, 0, 3;
    %cmp/u;
    %jmp/1 T_4.4, 6;
    %jmp T_4.5;
T_4.0 ;
    %load/vec4 v0x630dcb64dc30_0;
    %load/vec4 v0x630dcb64dcf0_0;
    %and;
    %load/vec4 v0x630dcb64efb0_0;
    %nor/r;
    %and;
    %flag_set/vec4 8;
    %jmp/0xz  T_4.6, 8;
    %pushi/vec4 1, 0, 3;
    %store/vec4 v0x630dcb64e750_0, 0, 3;
    %jmp T_4.7;
T_4.6 ;
    %load/vec4 v0x630dcb64dc30_0;
    %ix/load 4, 0, 0;
    %flag_set/imm 4, 0;
    %load/vec4a v0x630dcb64edf0, 4;
    %and;
    %load/vec4 v0x630dcb64efb0_0;
    %nor/r;
    %and;
    %flag_set/vec4 8;
    %jmp/0xz  T_4.8, 8;
    %pushi/vec4 2, 0, 3;
    %store/vec4 v0x630dcb64e750_0, 0, 3;
T_4.8 ;
T_4.7 ;
    %jmp T_4.5;
T_4.1 ;
    %load/vec4 v0x630dcb64e0d0_0;
    %load/vec4 v0x630dcb64df30_0;
    %nor/r;
    %and;
    %flag_set/vec4 8;
    %jmp/0xz  T_4.10, 8;
    %pushi/vec4 2, 0, 3;
    %store/vec4 v0x630dcb64e750_0, 0, 3;
    %jmp T_4.11;
T_4.10 ;
    %load/vec4 v0x630dcb64df30_0;
    %flag_set/vec4 8;
    %jmp/0xz  T_4.12, 8;
    %pushi/vec4 3, 0, 3;
    %store/vec4 v0x630dcb64e750_0, 0, 3;
T_4.12 ;
T_4.11 ;
    %jmp T_4.5;
T_4.2 ;
    %load/vec4 v0x630dcb64efb0_0;
    %nor/r;
    %flag_set/vec4 8;
    %jmp/0xz  T_4.14, 8;
    %load/vec4 v0x630dcb64dc30_0;
    %load/vec4 v0x630dcb64dcf0_0;
    %and;
    %flag_set/vec4 8;
    %jmp/0xz  T_4.16, 8;
    %pushi/vec4 1, 0, 3;
    %store/vec4 v0x630dcb64e750_0, 0, 3;
    %jmp T_4.17;
T_4.16 ;
    %pushi/vec4 0, 0, 3;
    %store/vec4 v0x630dcb64e750_0, 0, 3;
T_4.17 ;
T_4.14 ;
    %jmp T_4.5;
T_4.3 ;
    %load/vec4 v0x630dcb64ddb0_0;
    %flag_set/vec4 8;
    %jmp/0xz  T_4.18, 8;
    %pushi/vec4 4, 0, 3;
    %store/vec4 v0x630dcb64e750_0, 0, 3;
T_4.18 ;
    %jmp T_4.5;
T_4.4 ;
    %pushi/vec4 0, 0, 3;
    %store/vec4 v0x630dcb64e750_0, 0, 3;
    %jmp T_4.5;
T_4.5 ;
    %pop/vec4 1;
    %jmp T_4;
    .thread T_4, $push;
    .scope S_0x630dcb64c810;
T_5 ;
Ewait_1 .event/or E_0x630dcb5e1530, E_0x0;
    %wait Ewait_1;
    %ix/load 4, 0, 0;
    %flag_set/imm 4, 0;
    %load/vec4a v0x630dcb64edf0, 4;
    %nor/r;
    %flag_set/vec4 8;
    %jmp/0xz  T_5.0, 8;
    %load/vec4 v0x630dcb64e830_0;
    %store/vec4 v0x630dcb64db50_0, 0, 32;
    %jmp T_5.1;
T_5.0 ;
    %ix/load 4, 1, 0;
    %flag_set/imm 4, 0;
    %load/vec4a v0x630dcb64edf0, 4;
    %nor/r;
    %flag_set/vec4 8;
    %jmp/0xz  T_5.2, 8;
    %load/vec4 v0x630dcb64f070_0;
    %flag_set/vec4 8;
    %jmp/0xz  T_5.4, 8;
    %ix/load 4, 0, 0;
    %flag_set/imm 4, 0;
    %load/vec4a v0x630dcb64eb10, 4;
    %addi 4, 0, 32;
    %store/vec4 v0x630dcb64db50_0, 0, 32;
    %jmp T_5.5;
T_5.4 ;
    %ix/load 4, 0, 0;
    %flag_set/imm 4, 0;
    %load/vec4a v0x630dcb64eb10, 4;
    %addi 4, 0, 32;
    %store/vec4 v0x630dcb64db50_0, 0, 32;
T_5.5 ;
    %jmp T_5.3;
T_5.2 ;
    %load/vec4 v0x630dcb64e830_0;
    %store/vec4 v0x630dcb64db50_0, 0, 32;
T_5.3 ;
T_5.1 ;
    %jmp T_5;
    .thread T_5, $push;
    .scope S_0x630dcb64c810;
T_6 ;
    %wait E_0x630dcb5e4370;
    %load/vec4 v0x630dcb64eef0_0;
    %nor/r;
    %flag_set/vec4 8;
    %jmp/0xz  T_6.0, 8;
    %pushi/vec4 0, 0, 32;
    %ix/load 3, 0, 0;
    %flag_set/imm 4, 0;
    %ix/load 4, 0, 0; Constant delay
    %assign/vec4/a/d v0x630dcb64e9f0, 0, 4;
    %pushi/vec4 0, 0, 32;
    %ix/load 3, 1, 0;
    %flag_set/imm 4, 0;
    %ix/load 4, 0, 0; Constant delay
    %assign/vec4/a/d v0x630dcb64e9f0, 0, 4;
    %pushi/vec4 0, 0, 1;
    %ix/load 3, 0, 0;
    %flag_set/imm 4, 0;
    %ix/load 4, 0, 0; Constant delay
    %assign/vec4/a/d v0x630dcb64edf0, 0, 4;
    %pushi/vec4 0, 0, 1;
    %ix/load 3, 1, 0;
    %flag_set/imm 4, 0;
    %ix/load 4, 0, 0; Constant delay
    %assign/vec4/a/d v0x630dcb64edf0, 0, 4;
    %pushi/vec4 0, 0, 32;
    %ix/load 3, 0, 0;
    %flag_set/imm 4, 0;
    %ix/load 4, 0, 0; Constant delay
    %assign/vec4/a/d v0x630dcb64eb10, 0, 4;
    %pushi/vec4 0, 0, 32;
    %ix/load 3, 1, 0;
    %flag_set/imm 4, 0;
    %ix/load 4, 0, 0; Constant delay
    %assign/vec4/a/d v0x630dcb64eb10, 0, 4;
    %pushi/vec4 0, 0, 1;
    %ix/load 3, 0, 0;
    %flag_set/imm 4, 0;
    %ix/load 4, 0, 0; Constant delay
    %assign/vec4/a/d v0x630dcb64ecf0, 0, 4;
    %pushi/vec4 0, 0, 1;
    %ix/load 3, 1, 0;
    %flag_set/imm 4, 0;
    %ix/load 4, 0, 0; Constant delay
    %assign/vec4/a/d v0x630dcb64ecf0, 0, 4;
    %jmp T_6.1;
T_6.0 ;
    %load/vec4 v0x630dcb64ddb0_0;
    %flag_set/vec4 8;
    %load/vec4 v0x630dcb64d7f0_0;
    %cmpi/e 4, 0, 3;
    %flag_or 4, 8;
    %jmp/0xz  T_6.2, 4;
    %pushi/vec4 0, 0, 1;
    %ix/load 3, 0, 0;
    %flag_set/imm 4, 0;
    %ix/load 4, 0, 0; Constant delay
    %assign/vec4/a/d v0x630dcb64edf0, 0, 4;
    %pushi/vec4 0, 0, 1;
    %ix/load 3, 1, 0;
    %flag_set/imm 4, 0;
    %ix/load 4, 0, 0; Constant delay
    %assign/vec4/a/d v0x630dcb64edf0, 0, 4;
    %jmp T_6.3;
T_6.2 ;
    %load/vec4 v0x630dcb64d7f0_0;
    %pushi/vec4 1, 0, 3;
    %cmp/e;
    %flag_get/vec4 4;
    %load/vec4 v0x630dcb64e0d0_0;
    %and;
    %load/vec4 v0x630dcb64df30_0;
    %nor/r;
    %and;
    %flag_set/vec4 8;
    %jmp/0xz  T_6.4, 8;
    %ix/load 4, 0, 0;
    %flag_set/imm 4, 0;
    %load/vec4a v0x630dcb64edf0, 4;
    %nor/r;
    %flag_set/vec4 8;
    %jmp/0xz  T_6.6, 8;
    %load/vec4 v0x630dcb64dff0_0;
    %ix/load 3, 0, 0;
    %flag_set/imm 4, 0;
    %ix/load 4, 0, 0; Constant delay
    %assign/vec4/a/d v0x630dcb64e9f0, 0, 4;
    %pushi/vec4 1, 0, 1;
    %ix/load 3, 0, 0;
    %flag_set/imm 4, 0;
    %ix/load 4, 0, 0; Constant delay
    %assign/vec4/a/d v0x630dcb64edf0, 0, 4;
    %load/vec4 v0x630dcb64e830_0;
    %ix/load 3, 0, 0;
    %flag_set/imm 4, 0;
    %ix/load 4, 0, 0; Constant delay
    %assign/vec4/a/d v0x630dcb64eb10, 0, 4;
    %load/vec4 v0x630dcb64f070_0;
    %ix/load 3, 0, 0;
    %flag_set/imm 4, 0;
    %ix/load 4, 0, 0; Constant delay
    %assign/vec4/a/d v0x630dcb64ecf0, 0, 4;
    %jmp T_6.7;
T_6.6 ;
    %ix/load 4, 1, 0;
    %flag_set/imm 4, 0;
    %load/vec4a v0x630dcb64edf0, 4;
    %nor/r;
    %flag_set/vec4 8;
    %jmp/0xz  T_6.8, 8;
    %load/vec4 v0x630dcb64dff0_0;
    %ix/load 3, 1, 0;
    %flag_set/imm 4, 0;
    %ix/load 4, 0, 0; Constant delay
    %assign/vec4/a/d v0x630dcb64e9f0, 0, 4;
    %pushi/vec4 1, 0, 1;
    %ix/load 3, 1, 0;
    %flag_set/imm 4, 0;
    %ix/load 4, 0, 0; Constant delay
    %assign/vec4/a/d v0x630dcb64edf0, 0, 4;
    %load/vec4 v0x630dcb64e830_0;
    %load/vec4 v0x630dcb64f070_0;
    %flag_set/vec4 8;
    %jmp/0 T_6.10, 8;
    %pushi/vec4 2, 0, 32;
    %jmp/1 T_6.11, 8;
T_6.10 ; End of true expr.
    %pushi/vec4 4, 0, 32;
    %jmp/0 T_6.11, 8;
 ; End of false expr.
    %blend;
T_6.11;
    %add;
    %ix/load 3, 1, 0;
    %flag_set/imm 4, 0;
    %ix/load 4, 0, 0; Constant delay
    %assign/vec4/a/d v0x630dcb64eb10, 0, 4;
    %load/vec4 v0x630dcb64f070_0;
    %ix/load 3, 1, 0;
    %flag_set/imm 4, 0;
    %ix/load 4, 0, 0; Constant delay
    %assign/vec4/a/d v0x630dcb64ecf0, 0, 4;
T_6.8 ;
T_6.7 ;
T_6.4 ;
    %load/vec4 v0x630dcb64ec30_0;
    %flag_set/vec4 8;
    %jmp/0xz  T_6.12, 8;
    %ix/load 4, 1, 0;
    %flag_set/imm 4, 0;
    %load/vec4a v0x630dcb64e9f0, 4;
    %ix/load 3, 0, 0;
    %flag_set/imm 4, 0;
    %ix/load 4, 0, 0; Constant delay
    %assign/vec4/a/d v0x630dcb64e9f0, 0, 4;
    %ix/load 4, 1, 0;
    %flag_set/imm 4, 0;
    %load/vec4a v0x630dcb64edf0, 4;
    %ix/load 3, 0, 0;
    %flag_set/imm 4, 0;
    %ix/load 4, 0, 0; Constant delay
    %assign/vec4/a/d v0x630dcb64edf0, 0, 4;
    %ix/load 4, 1, 0;
    %flag_set/imm 4, 0;
    %load/vec4a v0x630dcb64eb10, 4;
    %ix/load 3, 0, 0;
    %flag_set/imm 4, 0;
    %ix/load 4, 0, 0; Constant delay
    %assign/vec4/a/d v0x630dcb64eb10, 0, 4;
    %ix/load 4, 1, 0;
    %flag_set/imm 4, 0;
    %load/vec4a v0x630dcb64ecf0, 4;
    %ix/load 3, 0, 0;
    %flag_set/imm 4, 0;
    %ix/load 4, 0, 0; Constant delay
    %assign/vec4/a/d v0x630dcb64ecf0, 0, 4;
    %pushi/vec4 0, 0, 1;
    %ix/load 3, 1, 0;
    %flag_set/imm 4, 0;
    %ix/load 4, 0, 0; Constant delay
    %assign/vec4/a/d v0x630dcb64edf0, 0, 4;
T_6.12 ;
T_6.3 ;
T_6.1 ;
    %jmp T_6;
    .thread T_6;
    .scope S_0x630dcb64c810;
T_7 ;
Ewait_2 .event/or E_0x630dcb5e0880, E_0x0;
    %wait Ewait_2;
    %ix/load 4, 0, 0;
    %flag_set/imm 4, 0;
    %load/vec4a v0x630dcb64edf0, 4;
    %flag_set/vec4 8;
    %jmp/0xz  T_7.0, 8;
    %ix/load 4, 0, 0;
    %flag_set/imm 4, 0;
    %load/vec4a v0x630dcb64ecf0, 4;
    %flag_set/vec4 8;
    %jmp/0xz  T_7.2, 8;
    %ix/load 4, 0, 0;
    %flag_set/imm 4, 0;
    %load/vec4a v0x630dcb64eb10, 4;
    %parti/s 1, 1, 2;
    %dup/vec4;
    %pushi/vec4 0, 0, 1;
    %cmp/u;
    %jmp/1 T_7.4, 6;
    %dup/vec4;
    %pushi/vec4 1, 0, 1;
    %cmp/u;
    %jmp/1 T_7.5, 6;
    %jmp T_7.6;
T_7.4 ;
    %pushi/vec4 0, 0, 16;
    %ix/load 4, 0, 0;
    %flag_set/imm 4, 0;
    %load/vec4a v0x630dcb64e9f0, 4;
    %parti/s 16, 0, 2;
    %concat/vec4; draw_concat_vec4
    %store/vec4 v0x630dcb64d8d0_0, 0, 32;
    %jmp T_7.6;
T_7.5 ;
    %pushi/vec4 0, 0, 16;
    %ix/load 4, 0, 0;
    %flag_set/imm 4, 0;
    %load/vec4a v0x630dcb64e9f0, 4;
    %parti/s 16, 16, 6;
    %concat/vec4; draw_concat_vec4
    %store/vec4 v0x630dcb64d8d0_0, 0, 32;
    %jmp T_7.6;
T_7.6 ;
    %pop/vec4 1;
    %jmp T_7.3;
T_7.2 ;
    %ix/load 4, 0, 0;
    %flag_set/imm 4, 0;
    %load/vec4a v0x630dcb64e9f0, 4;
    %store/vec4 v0x630dcb64d8d0_0, 0, 32;
T_7.3 ;
    %jmp T_7.1;
T_7.0 ;
    %pushi/vec4 0, 0, 32;
    %store/vec4 v0x630dcb64d8d0_0, 0, 32;
T_7.1 ;
    %jmp T_7;
    .thread T_7, $push;
    .scope S_0x630dcb60ae70;
T_8 ;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x630dcb64f830_0, 0, 1;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x630dcb6506c0_0, 0, 1;
    %pushi/vec4 0, 0, 32;
    %store/vec4 v0x630dcb650860_0, 0, 32;
    %pushi/vec4 0, 0, 32;
    %store/vec4 v0x630dcb650900_0, 0, 32;
    %end;
    .thread T_8, $init;
    .scope S_0x630dcb60ae70;
T_9 ;
    %delay 5000, 0;
    %load/vec4 v0x630dcb64f830_0;
    %inv;
    %store/vec4 v0x630dcb64f830_0, 0, 1;
    %jmp T_9;
    .thread T_9;
    .scope S_0x630dcb60ae70;
T_10 ;
    %wait E_0x630dcb5e4370;
    %load/vec4 v0x630dcb6506c0_0;
    %nor/r;
    %flag_set/vec4 8;
    %jmp/0xz  T_10.0, 8;
    %pushi/vec4 0, 0, 1;
    %assign/vec4 v0x630dcb64ff70_0, 0;
    %pushi/vec4 0, 0, 1;
    %assign/vec4 v0x630dcb64fd30_0, 0;
    %pushi/vec4 0, 0, 32;
    %assign/vec4 v0x630dcb64fea0_0, 0;
    %jmp T_10.1;
T_10.0 ;
    %pushi/vec4 1, 0, 1;
    %assign/vec4 v0x630dcb64ff70_0, 0;
    %pushi/vec4 0, 0, 1;
    %assign/vec4 v0x630dcb64fd30_0, 0;
    %load/vec4 v0x630dcb650040_0;
    %load/vec4 v0x630dcb650380_0;
    %nor/r;
    %and;
    %flag_set/vec4 8;
    %jmp/0xz  T_10.2, 8;
    %load/vec4 v0x630dcb6501e0_0;
    %parti/s 14, 2, 3;
    %ix/vec4 4;
    %load/vec4a v0x630dcb64fe00, 4;
    %assign/vec4 v0x630dcb64fea0_0, 0;
T_10.2 ;
T_10.1 ;
    %jmp T_10;
    .thread T_10;
    .scope S_0x630dcb60ae70;
T_11 ;
    %pushi/vec4 3818913793, 0, 32;
    %ix/load 4, 0, 0;
    %flag_set/imm 4, 0;
    %store/vec4a v0x630dcb64fe00, 4, 0;
    %pushi/vec4 3818917890, 0, 32;
    %ix/load 4, 1, 0;
    %flag_set/imm 4, 0;
    %store/vec4a v0x630dcb64fe00, 4, 0;
    %pushi/vec4 3766493185, 0, 32;
    %ix/load 4, 2, 0;
    %flag_set/imm 4, 0;
    %store/vec4a v0x630dcb64fe00, 4, 0;
    %pushi/vec4 3818926083, 0, 32;
    %ix/load 4, 3, 0;
    %flag_set/imm 4, 0;
    %store/vec4a v0x630dcb64fe00, 4, 0;
    %pushi/vec4 3785375744, 0, 32;
    %ix/load 4, 4, 0;
    %flag_set/imm 4, 0;
    %store/vec4a v0x630dcb64fe00, 4, 0;
    %pushi/vec4 3942645758, 0, 32;
    %ix/load 4, 5, 0;
    %flag_set/imm 4, 0;
    %store/vec4a v0x630dcb64fe00, 4, 0;
    %pushi/vec4 553721857, 0, 32;
    %ix/load 4, 16, 0;
    %flag_set/imm 4, 0;
    %store/vec4a v0x630dcb64fe00, 4, 0;
    %pushi/vec4 406860034, 0, 32;
    %ix/load 4, 17, 0;
    %flag_set/imm 4, 0;
    %store/vec4a v0x630dcb64fe00, 4, 0;
    %pushi/vec4 3892200963, 0, 32;
    %ix/load 4, 18, 0;
    %flag_set/imm 4, 0;
    %store/vec4a v0x630dcb64fe00, 4, 0;
    %fork t_1, S_0x630dcb60cc10;
    %jmp t_0;
    .scope S_0x630dcb60cc10;
t_1 ;
    %pushi/vec4 6, 0, 32;
    %store/vec4 v0x630dcb61af10_0, 0, 32;
T_11.0 ;
    %load/vec4 v0x630dcb61af10_0;
    %cmpi/s 16, 0, 32;
    %jmp/0xz T_11.1, 5;
    %pushi/vec4 3785359360, 0, 32;
    %ix/getv/s 4, v0x630dcb61af10_0;
    %store/vec4a v0x630dcb64fe00, 4, 0;
    ; show_stmt_assign_vector: Get l-value for compressed += operand
    %load/vec4 v0x630dcb61af10_0;
    %pushi/vec4 1, 0, 32;
    %add;
    %cast2;
    %store/vec4 v0x630dcb61af10_0, 0, 32;
    %jmp T_11.0;
T_11.1 ;
    %end;
    .scope S_0x630dcb60ae70;
t_0 %join;
    %fork t_3, S_0x630dcb64c2f0;
    %jmp t_2;
    .scope S_0x630dcb64c2f0;
t_3 ;
    %pushi/vec4 19, 0, 32;
    %store/vec4 v0x630dcb61afb0_0, 0, 32;
T_11.2 ;
    %load/vec4 v0x630dcb61afb0_0;
    %cmpi/s 4096, 0, 32;
    %jmp/0xz T_11.3, 5;
    %pushi/vec4 1187006144, 0, 32;
    %ix/getv/s 4, v0x630dcb61afb0_0;
    %store/vec4a v0x630dcb64fe00, 4, 0;
    ; show_stmt_assign_vector: Get l-value for compressed += operand
    %load/vec4 v0x630dcb61afb0_0;
    %pushi/vec4 1, 0, 32;
    %add;
    %cast2;
    %store/vec4 v0x630dcb61afb0_0, 0, 32;
    %jmp T_11.2;
T_11.3 ;
    %end;
    .scope S_0x630dcb60ae70;
t_2 %join;
    %end;
    .thread T_11;
    .scope S_0x630dcb60ae70;
T_12 ;
    %vpi_call/w 3 157 "$dumpfile", "fetch_test_tb.vcd" {0 0 0};
    %vpi_call/w 3 158 "$dumpvars", 32'sb00000000000000000000000000000000, S_0x630dcb60ae70 {0 0 0};
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x630dcb64fac0_0, 0, 1;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x630dcb64f6d0_0, 0, 1;
    %pushi/vec4 0, 0, 32;
    %store/vec4 v0x630dcb64f790_0, 0, 32;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x630dcb6509a0_0, 0, 1;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x630dcb64fc60_0, 0, 1;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x630dcb650790_0, 0, 1;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x630dcb64fb90_0, 0, 1;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x630dcb6506c0_0, 0, 1;
    %pushi/vec4 5, 0, 32;
    %store/vec4 v0x630dcb64f5d0_0, 0, 32;
    %fork TD_fetch_test_tb.wait_cycles, S_0x630dcb64f3f0;
    %join;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x630dcb6506c0_0, 0, 1;
    %pushi/vec4 5, 0, 32;
    %store/vec4 v0x630dcb64f5d0_0, 0, 32;
    %fork TD_fetch_test_tb.wait_cycles, S_0x630dcb64f3f0;
    %join;
    %vpi_call/w 3 175 "$display", "=== ARM7TDMI Instruction Fetch Test ===\012" {0 0 0};
    %vpi_call/w 3 178 "$display", "=== ARM Mode Tests ===" {0 0 0};
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x630dcb6509a0_0, 0, 1;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x630dcb64fac0_0, 0, 1;
    %pushi/str "ARM fetch - MOV R0, #1";
    %store/str v0x630dcb60f480_0;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x630dcb60ebf0_0, 0, 1;
    %pushi/vec4 3818913793, 0, 32;
    %store/vec4 v0x630dcb607510_0, 0, 32;
    %pushi/vec4 0, 0, 32;
    %store/vec4 v0x630dcb60eaf0_0, 0, 32;
    %fork TD_fetch_test_tb.test_case, S_0x630dcb64c530;
    %join;
    %pushi/vec4 1, 0, 32;
    %store/vec4 v0x630dcb64f5d0_0, 0, 32;
    %fork TD_fetch_test_tb.wait_cycles, S_0x630dcb64f3f0;
    %join;
    %pushi/str "ARM fetch - MOV R1, #2";
    %store/str v0x630dcb60f480_0;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x630dcb60ebf0_0, 0, 1;
    %pushi/vec4 3818917890, 0, 32;
    %store/vec4 v0x630dcb607510_0, 0, 32;
    %pushi/vec4 4, 0, 32;
    %store/vec4 v0x630dcb60eaf0_0, 0, 32;
    %fork TD_fetch_test_tb.test_case, S_0x630dcb64c530;
    %join;
    %pushi/vec4 1, 0, 32;
    %store/vec4 v0x630dcb64f5d0_0, 0, 32;
    %fork TD_fetch_test_tb.wait_cycles, S_0x630dcb64f3f0;
    %join;
    %pushi/str "ARM fetch - ADD R2, R0, R1";
    %store/str v0x630dcb60f480_0;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x630dcb60ebf0_0, 0, 1;
    %pushi/vec4 3766493185, 0, 32;
    %store/vec4 v0x630dcb607510_0, 0, 32;
    %pushi/vec4 8, 0, 32;
    %store/vec4 v0x630dcb60eaf0_0, 0, 32;
    %fork TD_fetch_test_tb.test_case, S_0x630dcb64c530;
    %join;
    %vpi_call/w 3 192 "$display", "=== Pipeline Stall Test ===" {0 0 0};
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x630dcb650790_0, 0, 1;
    %pushi/vec4 3, 0, 32;
    %store/vec4 v0x630dcb64f5d0_0, 0, 32;
    %fork TD_fetch_test_tb.wait_cycles, S_0x630dcb64f3f0;
    %join;
    %vpi_call/w 3 195 "$display", "Stall active - instruction should remain valid" {0 0 0};
    %load/vec4 v0x630dcb650450_0;
    %load/vec4 v0x630dcb650520_0;
    %pushi/vec4 3766493185, 0, 32;
    %cmp/e;
    %flag_get/vec4 4;
    %and;
    %flag_set/vec4 8;
    %jmp/0xz  T_12.0, 8;
    %vpi_call/w 3 197 "$display", "  \342\234\205 PASS - Instruction held during stall" {0 0 0};
    ; show_stmt_assign_vector: Get l-value for compressed += operand
    %load/vec4 v0x630dcb650900_0;
    %pushi/vec4 1, 0, 32;
    %add;
    %cast2;
    %store/vec4 v0x630dcb650900_0, 0, 32;
    %jmp T_12.1;
T_12.0 ;
    %vpi_call/w 3 200 "$display", "  \342\235\214 FAIL - Instruction not held during stall" {0 0 0};
T_12.1 ;
    ; show_stmt_assign_vector: Get l-value for compressed += operand
    %load/vec4 v0x630dcb650860_0;
    %pushi/vec4 1, 0, 32;
    %add;
    %cast2;
    %store/vec4 v0x630dcb650860_0, 0, 32;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x630dcb650790_0, 0, 1;
    %pushi/vec4 1, 0, 32;
    %store/vec4 v0x630dcb64f5d0_0, 0, 32;
    %fork TD_fetch_test_tb.wait_cycles, S_0x630dcb64f3f0;
    %join;
    %pushi/str "ARM fetch after stall";
    %store/str v0x630dcb60f480_0;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x630dcb60ebf0_0, 0, 1;
    %pushi/vec4 3818926083, 0, 32;
    %store/vec4 v0x630dcb607510_0, 0, 32;
    %pushi/vec4 12, 0, 32;
    %store/vec4 v0x630dcb60eaf0_0, 0, 32;
    %fork TD_fetch_test_tb.test_case, S_0x630dcb64c530;
    %join;
    %vpi_call/w 3 209 "$display", "=== Branch Test ===" {0 0 0};
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x630dcb64f6d0_0, 0, 1;
    %pushi/vec4 16, 0, 32;
    %store/vec4 v0x630dcb64f790_0, 0, 32;
    %pushi/vec4 1, 0, 32;
    %store/vec4 v0x630dcb64f5d0_0, 0, 32;
    %fork TD_fetch_test_tb.wait_cycles, S_0x630dcb64f3f0;
    %join;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x630dcb64f6d0_0, 0, 1;
    %pushi/vec4 2, 0, 32;
    %store/vec4 v0x630dcb64f5d0_0, 0, 32;
    %fork TD_fetch_test_tb.wait_cycles, S_0x630dcb64f3f0;
    %join;
    %pushi/str "ARM fetch after branch";
    %store/str v0x630dcb60f480_0;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x630dcb60ebf0_0, 0, 1;
    %pushi/vec4 3785375744, 0, 32;
    %store/vec4 v0x630dcb607510_0, 0, 32;
    %pushi/vec4 16, 0, 32;
    %store/vec4 v0x630dcb60eaf0_0, 0, 32;
    %fork TD_fetch_test_tb.test_case, S_0x630dcb64c530;
    %join;
    %vpi_call/w 3 220 "$display", "=== Thumb Mode Tests ===" {0 0 0};
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x630dcb6509a0_0, 0, 1;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x630dcb64f6d0_0, 0, 1;
    %pushi/vec4 64, 0, 32;
    %store/vec4 v0x630dcb64f790_0, 0, 32;
    %pushi/vec4 1, 0, 32;
    %store/vec4 v0x630dcb64f5d0_0, 0, 32;
    %fork TD_fetch_test_tb.wait_cycles, S_0x630dcb64f3f0;
    %join;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x630dcb64f6d0_0, 0, 1;
    %pushi/vec4 2, 0, 32;
    %store/vec4 v0x630dcb64f5d0_0, 0, 32;
    %fork TD_fetch_test_tb.wait_cycles, S_0x630dcb64f3f0;
    %join;
    %pushi/str "Thumb fetch - MOVS R0, #1";
    %store/str v0x630dcb60f480_0;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x630dcb60ebf0_0, 0, 1;
    %pushi/vec4 8193, 0, 32;
    %store/vec4 v0x630dcb607510_0, 0, 32;
    %pushi/vec4 64, 0, 32;
    %store/vec4 v0x630dcb60eaf0_0, 0, 32;
    %fork TD_fetch_test_tb.test_case, S_0x630dcb64c530;
    %join;
    %pushi/vec4 1, 0, 32;
    %store/vec4 v0x630dcb64f5d0_0, 0, 32;
    %fork TD_fetch_test_tb.wait_cycles, S_0x630dcb64f3f0;
    %join;
    %pushi/str "Thumb fetch - MOVS R1, #1";
    %store/str v0x630dcb60f480_0;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x630dcb60ebf0_0, 0, 1;
    %pushi/vec4 8449, 0, 32;
    %store/vec4 v0x630dcb607510_0, 0, 32;
    %pushi/vec4 66, 0, 32;
    %store/vec4 v0x630dcb60eaf0_0, 0, 32;
    %fork TD_fetch_test_tb.test_case, S_0x630dcb64c530;
    %join;
    %pushi/vec4 1, 0, 32;
    %store/vec4 v0x630dcb64f5d0_0, 0, 32;
    %fork TD_fetch_test_tb.wait_cycles, S_0x630dcb64f3f0;
    %join;
    %pushi/str "Thumb fetch - ADDS R0, R0, R1";
    %store/str v0x630dcb60f480_0;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x630dcb60ebf0_0, 0, 1;
    %pushi/vec4 6208, 0, 32;
    %store/vec4 v0x630dcb607510_0, 0, 32;
    %pushi/vec4 68, 0, 32;
    %store/vec4 v0x630dcb60eaf0_0, 0, 32;
    %fork TD_fetch_test_tb.test_case, S_0x630dcb64c530;
    %join;
    %vpi_call/w 3 237 "$display", "=== Pipeline Flush Test ===" {0 0 0};
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x630dcb64fb90_0, 0, 1;
    %pushi/vec4 1, 0, 32;
    %store/vec4 v0x630dcb64f5d0_0, 0, 32;
    %fork TD_fetch_test_tb.wait_cycles, S_0x630dcb64f3f0;
    %join;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x630dcb64fb90_0, 0, 1;
    %pushi/vec4 3, 0, 32;
    %store/vec4 v0x630dcb64f5d0_0, 0, 32;
    %fork TD_fetch_test_tb.wait_cycles, S_0x630dcb64f3f0;
    %join;
    %vpi_call/w 3 244 "$display", "After flush - checking if new instruction is fetched" {0 0 0};
    %load/vec4 v0x630dcb650450_0;
    %flag_set/vec4 8;
    %jmp/0xz  T_12.2, 8;
    %vpi_call/w 3 246 "$display", "  \342\234\205 PASS - New instruction fetched after flush" {0 0 0};
    ; show_stmt_assign_vector: Get l-value for compressed += operand
    %load/vec4 v0x630dcb650900_0;
    %pushi/vec4 1, 0, 32;
    %add;
    %cast2;
    %store/vec4 v0x630dcb650900_0, 0, 32;
    %jmp T_12.3;
T_12.2 ;
    %vpi_call/w 3 249 "$display", "  \342\235\214 FAIL - No instruction after flush" {0 0 0};
T_12.3 ;
    ; show_stmt_assign_vector: Get l-value for compressed += operand
    %load/vec4 v0x630dcb650860_0;
    %pushi/vec4 1, 0, 32;
    %add;
    %cast2;
    %store/vec4 v0x630dcb650860_0, 0, 32;
    %vpi_call/w 3 254 "$display", "=== High Vectors Test ===" {0 0 0};
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x630dcb64fc60_0, 0, 1;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x630dcb6506c0_0, 0, 1;
    %pushi/vec4 2, 0, 32;
    %store/vec4 v0x630dcb64f5d0_0, 0, 32;
    %fork TD_fetch_test_tb.wait_cycles, S_0x630dcb64f3f0;
    %join;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x630dcb6506c0_0, 0, 1;
    %pushi/vec4 1, 0, 32;
    %store/vec4 v0x630dcb64f5d0_0, 0, 32;
    %fork TD_fetch_test_tb.wait_cycles, S_0x630dcb64f3f0;
    %join;
    %load/vec4 v0x630dcb6505f0_0;
    %cmpi/e 4294901760, 0, 32;
    %jmp/0xz  T_12.4, 4;
    %vpi_call/w 3 262 "$display", "  \342\234\205 PASS - PC starts at high vectors (0x%08x)", v0x630dcb6505f0_0 {0 0 0};
    ; show_stmt_assign_vector: Get l-value for compressed += operand
    %load/vec4 v0x630dcb650900_0;
    %pushi/vec4 1, 0, 32;
    %add;
    %cast2;
    %store/vec4 v0x630dcb650900_0, 0, 32;
    %jmp T_12.5;
T_12.4 ;
    %vpi_call/w 3 265 "$display", "  \342\235\214 FAIL - PC should start at 0xFFFF0000, got 0x%08x", v0x630dcb6505f0_0 {0 0 0};
T_12.5 ;
    ; show_stmt_assign_vector: Get l-value for compressed += operand
    %load/vec4 v0x630dcb650860_0;
    %pushi/vec4 1, 0, 32;
    %add;
    %cast2;
    %store/vec4 v0x630dcb650860_0, 0, 32;
    %pushi/vec4 5, 0, 32;
    %store/vec4 v0x630dcb64f5d0_0, 0, 32;
    %fork TD_fetch_test_tb.wait_cycles, S_0x630dcb64f3f0;
    %join;
    %vpi_call/w 3 271 "$display", "=== Test Results ===" {0 0 0};
    %vpi_call/w 3 272 "$display", "Tests Run: %d", v0x630dcb650860_0 {0 0 0};
    %vpi_call/w 3 273 "$display", "Tests Passed: %d", v0x630dcb650900_0 {0 0 0};
    %load/vec4 v0x630dcb650900_0;
    %cvt/rv/s;
    %pushi/real 1677721600, 4072; load=100.000
    %mul/wr;
    %load/vec4 v0x630dcb650860_0;
    %cvt/rv/s;
    %div/wr;
    %vpi_call/w 3 274 "$display", "Pass Rate: %.1f%%", W<0,r> {0 1 0};
    %load/vec4 v0x630dcb650900_0;
    %load/vec4 v0x630dcb650860_0;
    %cmp/e;
    %jmp/0xz  T_12.6, 4;
    %vpi_call/w 3 277 "$display", "\342\234\205 ALL FETCH TESTS PASSED!" {0 0 0};
    %jmp T_12.7;
T_12.6 ;
    %vpi_call/w 3 279 "$display", "\342\235\214 SOME FETCH TESTS FAILED" {0 0 0};
T_12.7 ;
    %vpi_call/w 3 282 "$finish" {0 0 0};
    %end;
    .thread T_12;
    .scope S_0x630dcb60ae70;
T_13 ;
    %delay 50000000, 0;
    %vpi_call/w 3 288 "$display", "ERROR: Test timeout!" {0 0 0};
    %vpi_call/w 3 289 "$finish" {0 0 0};
    %end;
    .thread T_13;
# The file index is used to find the file name in the following table.
:file_names 5;
    "N/A";
    "<interactive>";
    "-";
    "fetch_test_tb.sv";
    "../rtl/arm7tdmi_fetch.sv";
